<div class="container-fluid">
    <div class="card card-cascade my-5 hoverable">
        <div class="view gradient-card-header indigo">
            <h3 class="h3-responsive">配置路由</h3>
            <p>最后编辑于 2018-1-23</p>
        </div>
        <div class="card info-color z-depth-2">
            <div class="card-body">
                <p class="white-text mb-0 text-center">
                    路由原理
                </p>
            </div>
        </div>
        <div class="card-body">
            <p class="card-text">
                <span class="h4-responsive">
                    当我们进入一条链接时，应用程序做了以下处理：
                    <ol>
                        <li>路由寻找 URL 对应的控制器。</li>
                        <li>控制台将指定的方法进行操作。</li>
                        <li>渲染给模板。</li>
                    </ol>
                    <img src="https://box.kancloud.cn/65dfdbe65be8b8ccd088bdc01ebd2fa1_2000x1602.png" alt="" width="50%;">
                </span>
            </p>
        </div>
        <div class="card info-color z-depth-2">
            <div class="card-body">
                <p class="white-text mb-0 text-center">
                    Thinkphp 的路由
                </p>
            </div>
        </div>
        <div class="card-body">
            <p class="card-text">
                <span class="h4-responsive">
                    打开
                    <span class="blue-text">route/route.php</span> 看到这条语句，将路由做如下修改
                    <br>
                    <br>
                    <div class="card green lighten-1 z-depth-2">
                        <div class="card-body">
                            <p class="white-text mb-0">
                                /* route/route.php */
                                <br>
                                <del>Route::get('hello/:name', 'index/hello');</del>
                                <br>
                                <span>Route::get('hello', 'index/hello');</span>
                            </p>
                        </div>
                    </div>
                    <br>
                    <br>
                    <span class="blue-text">Route::</span> 注册路由静态方法
                    <br>
                    <span class="blue-text">get</span> 请求方式
                    <br>
                    <span class="blue-text">'hello'</span> 请求 URL
                    <br>
                    <span class="blue-text">'index/hello'</span> 响应默认控制器中 hello 方法（application/index/controller/Index.php/:function hello）
                    <br>
                    <br> 目录：
                    <span class="blue-text">application/index/controller/ </span> 为默认控制器的根目录，当我们在路由中书写时，如果只使用默认控制器，只用写入 控制器文件名/方法
                    <br>
                    <br> 并不推荐使用省略的方法使用路由语句，这是难以维护的。
                    <br>
                    <br> 你应该使用：
                    <span class="blue-text">'index/index/hello'</span> //模块（index）/控制器（controller）/index.php/:function hello
                    <br>
                    <br> 打开上述控制器文件，找到 hello 方法并修改为
                    <br>
                    <br>
                    <div class="card green lighten-1 z-depth-2">
                        <div class="card-body">
                            <p class="white-text mb-0">
                                /* application/index/controller/Index.php/:function hello */
                                <br>
                                <del>public function hello($name = 'ThinkPHP5')</del>
                                <br>
                                <span>public function hello()</span>
                                <br> {
                                <br>
                                <del>&nbsp;&nbsp;&nbsp;&nbsp;return 'hello,' . $name;</del>
                                <br>
                                <span>&nbsp;&nbsp;&nbsp;&nbsp;return 'hello world'</span>
                                <br> }
                            </p>
                        </div>
                    </div>
                    <br>
                    <br> 打开浏览器，访问 http://thinkphp.test/hello 则会出现 hello world，一个简单的 GET 路由就完成了。
                </span>
            </p>
        </div>
        <div class="card info-color z-depth-2">
            <div class="card-body">
                <p class="white-text mb-0 text-center">
                    在路由中直接输出
                </p>
            </div>
        </div>
        <div class="card-body">
            <p class="card-text">
                <span class="h4-responsive">
                    在阅读本小节之前，首先要知道一个概念
                    <span class="blue-text">
                        <a href="http://php.net/manual/zh/functions.anonymous.php" rel="noopener noreferrer">
                            闭包
                        </a>
                    </span>
                    <br> 稍作了解之后，我们来学习在路由中使用闭包。
                    <br>
                    <br> 打开路由文件，将刚才的语句进行修改
                    <br>
                    <br>
                    <div class="card green lighten-1 z-depth-2">
                        <div class="card-body">
                            <p class="white-text mb-0">
                                /* route/route.php */
                                <br>
                                <del>Route::get('hello', 'index/index/hello');</del>
                                <br>
                                <span>
                                    Route::get('hello', function() {
                                    <br> &nbsp;&nbsp;&nbsp;&nbsp;return 'hello closures';
                                    <br> });
                                </span>
                            </p>
                        </div>
                    </div>
                    <br> 这时候再刷新浏览器，输出语句就变成了 hello closures
                    <br>
                    <br> 这就是路由中闭包的基本用法。
                </span>
            </p>
        </div>
        <div class="card info-color z-depth-2">
            <div class="card-body">
                <p class="white-text mb-0 text-center">
                    在控制器中响应模板
                </p>
            </div>
        </div>
        <div class="card-body">
            <p class="card-text">
                <span class="h4-responsive">
                    现在请删除刚才的闭包语句，重新写入：
                    <br>
                    <br>
                    <div class="card green lighten-1 z-depth-2">
                        <div class="card-body">
                            <p class="white-text mb-0">
                                /* route/route.php */
                                <br>
                                <del>
                                    Route::get('hello', function() {
                                    <br> &nbsp;&nbsp;&nbsp;&nbsp;return 'hello closures';
                                    <br> });
                                </del>
                                <br>
                                <span>Route::get('hello', 'index/index/hello');</span>
                            </p>
                        </div>
                    </div>
                    <br>
                    <br> 进入路由对应的控制器，修改代码
                    <br>
                    <br>
                    <div class="card green lighten-1 z-depth-2">
                        <div class="card-body">
                            <p class="white-text mb-0">
                                /* application/index/controller/Index.php/:function hello */
                                <br> public function hello()
                                <br> {
                                <br>
                                <del>&nbsp;&nbsp;&nbsp;&nbsp;return 'hello world';</del>
                                <br>
                                <span>&nbsp;&nbsp;&nbsp;&nbsp;return view();</span>
                                <br> }
                            </p>
                        </div>
                    </div>
                    <br>
                    <br>
                    <span class="blue-text">return view();</span> 是一个助手函数，表示响应对应的模板。
                    <br>
                    <br> 如果
                    <span class="blue-text">view()</span> 中未添加任何参数，则会响应到默认路径：
                    <br>
                    <br>
                    <span class="blue-text">当前模块/view/当前控制器名（小写）/当前操作（小写）.html</span>
                    <br>
                    <br>
                    <div class="card green lighten-1 z-depth-2">
                        <div class="card-body">
                            <p class="white-text mb-0">
                                /* application/index（当前模块）/view/index（当前控制器名）/hello.html（当前操作） */
                            </p>
                        </div>
                    </div>
                    <br>
                    <br> 我们创建对应路径的对应文件
                    <span class="blue-text">application/index/view/index/index/hello.html</span> 并写入 hello view
                    <br>
                    <br> 再次刷新浏览器，输出语句就变成了 hello view
                    <br>
                    <br> 你现在已经学会了在 控制器中响应模板 的基本方法。
                </span>
            </p>
        </div>
        <div class="card info-color z-depth-2">
            <div class="card-body">
                <p class="white-text mb-0 text-center">
                    在路由闭包操作中响应模板
                </p>
            </div>
        </div>
        <div class="card-body">
            <p class="card-text">
                <span class="h4-responsive">
                    在实际的开发中，如果我们只是不进行任何操作的响应一个模板文件，那么使用控制器实在是有点大材小用，
                    <br>
                    <br> 这时候，就需要在路由中直接输出。
                    <br>
                    <br> 打开路由文件，将刚才的语句进行修改
                    <br>
                    <br>
                    <div class="card green lighten-1 z-depth-2">
                        <div class="card-body">
                            <p class="white-text mb-0">
                                /* route/route.php */
                                <br>
                                <del>Route::get('hello', 'index/index/hello');</del>
                                <br>
                                <span>
                                    Route::get('hello', function() {
                                    <br> &nbsp;&nbsp;&nbsp;&nbsp;return view('index@index/index/hello');
                                    <br> });
                                </span>
                            </p>
                        </div>
                    </div>
                    <br>
                    <br> 这条语句表示该路由会渲染 index 模块下面的
                    <span class="blue-text">view/index/index/hello.html</span> 模板文件输出。
                    <br>
                    <br> 进入到对应的模板文件，将
                    <del>hello view</del> 修改为
                    <span class="blue-text">hello router view</span>
                    <br>
                    <br> 再次刷新浏览器，输出语句就变成了 hello router view
                    <br>
                    <br> 你现在已经学会了在 路由中响应模板 的基本方法。
                </span>
            </p>
        </div>
        <div class="card info-color z-depth-2">
            <div class="card-body">
                <p class="white-text mb-0 text-center">
                    为路由提供参数
                </p>
            </div>
        </div>
        <div class="card-body">
            <p class="card-text">
                <span class="h4-responsive">
                    我们在第一次对路由文件进行修改的时候，将
                    <br>
                    <br>
                    <span class="blue-text">Route::get('hello/:name', 'index/index/hello');</span>
                    <br>
                    <br> 变为了
                    <br>
                    <br>
                    <span class="green-text">Route::get('hello', 'index/index/hello');</span>
                    <br>
                    <br> 其中，删除了
                    <span class="red-text">:name</span> 这几个字符，
                    <span class="red-text">:name</span> 就是本节提到的 参数
                    <br>
                    <br> 将刚才写入的闭包语句改为
                    <br>
                    <br>
                    <div class="card green lighten-1 z-depth-2">
                        <div class="card-body">
                            <p class="white-text mb-0">
                                /* route/route.php */
                                <br>
                                <span>
                                    Route::get('hello/:name', function ($name) {
                                    <br> &nbsp;&nbsp;&nbsp;&nbsp;return 'Hello,' . $name;
                                    <br> });
                                </span>
                            </p>
                        </div>
                    </div>
                    <br>
                    <br>
                    <span class="blue-text">function($name)</span> 将 $name 赋值为 :name
                    <br>
                    <br> 如果我们进入 http://thinkphp/hello/param，那么就会输出 hello param
                </span>
            </p>
        </div>
    </div>
</div>
<div class="container-fluid">
    <div class="card card-cascade my-5 hoverable">
        <div class="view gradient-card-header indigo">
            <h3 class="h3-responsive">创建第一个静态页面</h3>
            <p>最后编辑于 2018-1-23</p>
        </div>
        <div class="card info-color z-depth-2">
            <div class="card-body">
                <p class="white-text mb-0 text-center">
                    请删除所有路由语句和 index 模块（application/[index/]
                </p>
            </div>
        </div>
        <div class="card-body">
            <p class="card-text">
                <span class="h4-responsive">
                    打开路由文件，写入语句：
                    <br>
                    <br>
                    <div class="card green lighten-1 z-depth-2">
                        <div class="card-body">
                            <p class="white-text mb-0">
                                <span>
                                    /* route/route.php */
                                    <br> Route::get('', 'welcome/index/home');
                                    <br> Route::get('/help', 'welcome/index/help');
                                    <br> Route::get('/about', 'welcome/index/about');
                                </span>
                            </p>
                        </div>
                    </div>
                    <br>
                    <br> 创建控制器文件：
                    <span class="green-text">application/welcome/controller/Index.php</span>
                    <br>
                    <br> 在创建好的控制器文件中写入：
                    <br>
                    <br>
                    <div class="card green lighten-1 z-depth-2">
                        <div class="card-body">
                            <p class="white-text mb-0">
                                <span>
                                    /* application/welcome/controller/Index.php */
                                    <br> namespace app\welcome\controller;
                                    <br> use think\Controller;
                                    <br> class Index extends Controller
                                    <br> {
                                    <br> &nbsp;&nbsp;&nbsp;&nbsp;public function home()
                                    <br> &nbsp;&nbsp;&nbsp;&nbsp;{
                                    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return '主页';
                                    <br> &nbsp;&nbsp;&nbsp;&nbsp;}
                                    <br> &nbsp;&nbsp;&nbsp;&nbsp;public function help()
                                    <br> &nbsp;&nbsp;&nbsp;&nbsp;{
                                    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return '帮助';
                                    <br> &nbsp;&nbsp;&nbsp;&nbsp;}
                                    <br> &nbsp;&nbsp;&nbsp;&nbsp;public function about()
                                    <br> &nbsp;&nbsp;&nbsp;&nbsp;{
                                    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return '关于';
                                    <br> &nbsp;&nbsp;&nbsp;&nbsp;}
                                    <br> }
                                </span>
                            </p>
                        </div>
                    </div>
                    <br>
                    <br>
                    <span class="blue-text">namespace</span> 代表的是 命名空间，你可以把它理解成路径，不同的
                    <span class="blue-text">namespace</span> 代表着不同的路径， 只有正确路径下的操作才能被找到。
                    <br>
                    <br>
                    <span class="blue-text">use</span> 是使用 php 各种类的一个操作，如果我们想要使用其他封装好的类，仅仅
                    <span class="blue-text">use</span> 对应的文件就行了。
                    <br>
                    <br>
                    <span class="blue-text">class Index extends Controller</span> 表示当前的
                    <span class="blue-text">Index（如果我们创建在控制器下的是 AnyThing.php，那么我们就要使用 AnyThing 而不是 Index）</span> 类继承了
                    <span class="blue-text">Controller</span> 类，如果继承，就可以使用
                    <span class="blue-text">Controller</span> 中的所有公共方法
                    <br>
                    <br> 现在你访问
                    <br> http://thinkphp.test
                    <br> http://thinkphp.test/help
                    <br> http://thinkphp.test/about
                    <br>
                    <br> 那对应就会显示 主页、帮助、关于
                </span>
            </p>
        </div>
        <div class="card info-color z-depth-2">
            <div class="card-body">
                <p class="white-text mb-0 text-center">
                    渲染视图
                </p>
            </div>
        </div>
        <div class="card-body">
            <p class="card-text">
                <span class="h4-responsive">
                    我们在前面的内容中已经学习了 在控制器中响应视图、在路由中响应视图， 现在只需要将 return '' 改为 return view() 即可；
                    <br><br>
                    <div class="card green lighten-1 z-depth-2">
                        <div class="card-body">
                            <p class="white-text mb-0">
                                <span>
                                    <del>return '';</del>
                                    <br> return view();
                                </span>
                            </p>
                        </div>
                    </div>
                    <br><br>
                    现在来创建模板，路径：<span class="blue-text">application/welcome/view/index</span>
                    <br><br>
                    分别创建 home.html、help.html、about.html
                    <br><br>
                    <span class="blue-text">application/welcome/view/index/home.html</span>
                    <div class="card green lighten-1 z-depth-2">
                        <div class="card-body">
                            <p class="white-text mb-0">
                                <pre class="green lighten-1">
                                    <code class="green lighten-1 white-text">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;thinkphp.test&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;主页&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;
                                    </code>
                                </pre>
                            </p>
                        </div>
                    </div>
                    <br><br>
                    <span class="blue-text">application/welcome/view/index/help.html</span>
                    <div class="card green lighten-1 z-depth-2">
                        <div class="card-body">
                            <p class="white-text mb-0">
                                <pre class="green lighten-1">
                                    <code class="green lighten-1 white-text">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;thinkphp.test&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;帮助&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;
                                    </code>
                                </pre>
                            </p>
                        </div>
                    </div>
                    <br><br>
                    <span class="blue-text">application/welcome/view/index/about.html</span>
                    <div class="card green lighten-1 z-depth-2">
                        <div class="card-body">
                            <p class="white-text mb-0">
                                <pre class="green lighten-1">
                                    <code class="green lighten-1 white-text">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;thinkphp.test&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;关于&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;
                                    </code>
                                </pre>
                            </p>
                        </div>
                    </div>
                    <br><br>
                    这时候再刷新浏览器，响应的就是视图文件了。
                </span>
            </p>
        </div>
    </div>
</div>